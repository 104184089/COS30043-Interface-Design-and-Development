<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keyword" content="form by vuejs">
    <meta name="author" content="Vu Minh Quang">

    <title>Document</title>

    <script src="js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="vuejs/vue.js"></script>
    <script src="https://unpkg.com/vue-router@4"></script>

</head>

<body>

    <div id="app">
        <div class="container mt-3">
            <h1>Form</h1>

            <ul>
                <li v-for="error of errors"> {{ error }} </li>
            </ul>

            <form @submit="handleSubmit" novalidate action="https://mercury.swin.edu.au/it000000/formtest.php">
                <div class="form-group">
                    <label for="fname" class="form-label">First Name</label>
                    <input v-model="fname" pattern="^[a-zA-Z ]{2,8}$" minlength="2" maxlength="8" required type="text"
                        class="form-control" id="fname" name="fname">
                </div>

                <div class="form-group">
                    <label for="age" class="form-label">Age</label>
                    <input v-model="age" min="10" max="50" required type="number" class="form-control" id="age" name="age">
                </div>

                <button class="btn btn-primary mt-3" type="submit">Submit</button>

            </form>
        </div>
    </div>

    <script>
        const app = Vue.createApp({

            data() {
                return {
                    fname: '',
                    age: '',
                    errors: [],
                };
            },
            methods: {
                handleSubmit(event) {
                    this.errors = [];

                    
                    // data validation
                    if (this.fname == "") {
                        this.errors.push('First name is required')
                    } else if (this.fname.length < 2) {
                        this.errors.push('First name must contains more than 01 letter')
                    }

                    if (this.age == "") {
                        this.errors.push('Age is required')
                    } else if (this.age < 10) {
                        this.errors.push('Age must contains more than 01 letter')
                    }

                    if (this.errors.length != 0) {
                        event.preventDefault();
                    } 
                
                },


            }
        })

        app.mount("#app");
    </script>



</body>

</html>